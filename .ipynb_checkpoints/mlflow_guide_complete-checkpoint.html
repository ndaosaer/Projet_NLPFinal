<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vous voulez reprendre le projet - MLflow - Guide Complet pour votre Projet CV Classification</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .logo {
            font-size: 4em;
            margin-bottom: 20px;
        }

        nav {
            background: #2c3e50;
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        nav a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background 0.3s;
        }

        nav a:hover {
            background: #34495e;
        }

        .content {
            padding: 40px;
        }

        section {
            margin-bottom: 60px;
            scroll-margin-top: 80px;
        }

        h2 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        h3 {
            color: #764ba2;
            font-size: 1.8em;
            margin: 30px 0 15px 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-left: 5px solid #667eea;
            padding: 25px;
            margin: 25px 0;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        .comparison-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
        }

        .comparison-table tbody tr:nth-child(even) {
            background: #f8f9fa;
        }

        .comparison-table tbody tr:hover {
            background: #e9ecef;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border-top: 4px solid #667eea;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .feature-card .icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .workflow-diagram {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 30px 0;
        }

        .workflow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .workflow-step .number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .workflow-step .content {
            flex: 1;
        }

        .workflow-arrow {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin: 10px 0;
        }

        code {
            background: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .timeline {
            position: relative;
            padding-left: 50px;
            margin: 40px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -38px;
            top: 25px;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: #667eea;
            border: 3px solid white;
            box-shadow: 0 0 0 3px #667eea;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .pros, .cons {
            padding: 25px;
            border-radius: 15px;
        }

        .pros {
            background: #d4edda;
            border: 2px solid #28a745;
        }

        .cons {
            background: #f8d7da;
            border: 2px solid #dc3545;
        }

        .pros h4, .cons h4 {
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .pros ul, .cons ul {
            list-style: none;
            padding-left: 0;
        }

        .pros li, .cons li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        .pros li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
            font-size: 1.3em;
        }

        .cons li::before {
            content: '✗';
            position: absolute;
            left: 0;
            color: #dc3545;
            font-weight: bold;
            font-size: 1.3em;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }

        .stat-box .number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-box .label {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .use-case {
            background: white;
            border: 2px solid #667eea;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .use-case-title {
            color: #667eea;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .emoji {
            font-size: 1.2em;
            margin-right: 10px;
        }

        footer {
            background: #2c3e50;
            color: white;
            padding: 40px;
            text-align: center;
        }

        footer a {
            color: #667eea;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 2em;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }

        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s;
            z-index: 1000;
        }

        .scroll-to-top:hover {
            transform: translateY(-5px);
        }

        .architecture-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            border: 2px dashed #667eea;
        }

        .component-box {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .component-box strong {
            color: #667eea;
            display: block;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo"></div>
            <h1>MLflow pour LiveCareer</h1>
            <p>Guide Complet - Classification de CV avec Machine Learning</p>
        </header>

        <nav>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#problematique">Problématique</a></li>
                <li><a href="#fonctionnement">Fonctionnement</a></li>
                <li><a href="#composants">Composants</a></li>
                <li><a href="#valeur-ajoutee">Valeur Ajoutée</a></li>
                <li><a href="#implementation">Implémentation</a></li>
                <li><a href="#cas-pratiques">Cas Pratiques</a></li>
            </ul>
        </nav>

        <div class="content">
            <!-- SECTION 1: INTRODUCTION -->
            <section id="introduction">
                <h2> Qu'est-ce que MLflow ?</h2>

                <div class="highlight-box">
                    <h3>Définition Simple</h3>
                    <p><strong>MLflow</strong> est une plateforme open-source créée par Databricks qui permet de <strong>gérer l'ensemble du cycle de vie des projets Machine Learning</strong>.</p>
                    <p>Pensez à MLflow comme un <strong>"GitHub pour vos expérimentations ML"</strong> - il garde une trace de tout ce que vous faites, vous permet de comparer vos résultats, et facilite le déploiement de vos modèles.</p>
                </div>

                <div class="stat-box">
                    <div class="number"></div>
                    <div class="label">Une seule plateforme pour tout le cycle de vie ML</div>
                </div>

                <h3>Les 4 Piliers de MLflow</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="icon"></div>
                        <h4>MLflow Tracking</h4>
                        <p>Enregistre et compare les paramètres, métriques et résultats de vos expérimentations</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon"></div>
                        <h4>MLflow Projects</h4>
                        <p>Package votre code ML dans un format réutilisable et reproductible</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon"></div>
                        <h4>MLflow Models</h4>
                        <p>Déploie vos modèles dans différents environnements (API, batch, cloud)</p>
                    </div>
                    <div class="feature-card">
                        <div class="icon"></div>
                        <h4>Model Registry</h4>
                        <p>Gère les versions de vos modèles et leur cycle de vie (staging, production)</p>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: PROBLÉMATIQUE -->
            <section id="problematique">
                <h2> La Problématique Sans MLflow</h2>

                <div class="warning-box">
                    <h3><span class="emoji"></span>Le Chaos Avant MLflow</h3>
                    <p>Imaginez votre projet CV Classification LiveCareer <strong>SANS MLflow</strong>...</p>
                </div>

                <div class="timeline">
                    <div class="timeline-item">
                        <h4>Jour 1 - Premier Modèle</h4>
                        <p>Vous créez un Random Forest avec 100 arbres, accuracy de 85%</p>
                        <p><code>best_model_v1.pkl</code></p>
                    </div>
                    <div class="timeline-item">
                        <h4>Jour 3 - Amélioration</h4>
                        <p>Vous testez 200 arbres, accuracy de 87%</p>
                        <p><code>best_model_v2_final.pkl</code></p>
                    </div>
                    <div class="timeline-item">
                        <h4>Jour 5 - Nouvelle Tentative</h4>
                        <p>Vous essayez SVM, accuracy de 84%</p>
                        <p><code>best_model_svm_final_vraiment.pkl</code></p>
                    </div>
                    <div class="timeline-item">
                        <h4>Jour 7 - Confusion Totale</h4>
                        <p><strong>Question :</strong> Quel était le meilleur modèle ? Quels étaient ses paramètres ? Pourquoi était-il meilleur ?</p>
                        <p><strong>Réponse :</strong>  Vous ne savez plus...</p>
                    </div>
                </div>

                <h3>Les Problèmes Concrets</h3>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Problème</th>
                            <th>Impact sur LiveCareer</th>
                            <th>Coût</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Pas de traçabilité</strong></td>
                            <td>Impossible de savoir quel modèle est en production</td>
                            <td>Risque de régression</td>
                        </tr>
                        <tr>
                            <td><strong>Expérimentations perdues</strong></td>
                            <td>Vous refaites les mêmes tests plusieurs fois</td>
                            <td>Perte de temps</td>
                        </tr>
                        <tr>
                            <td><strong>Pas de comparaison</strong></td>
                            <td>Difficile de justifier le choix du modèle final</td>
                            <td>Manque de professionnalisme</td>
                        </tr>
                        <tr>
                            <td><strong>Déploiement complexe</strong></td>
                            <td>Chaque déploiement est une aventure</td>
                            <td>Temps de mise en prod</td>
                        </tr>
                        <tr>
                            <td><strong>Collaboration difficile</strong></td>
                            <td>Impossible de partager vos résultats avec l'équipe</td>
                            <td>Silos de connaissances</td>
                        </tr>
                    </tbody>
                </table>

                <div class="info-box">
                    <h4><span class="emoji"></span>Scénario Réel LiveCareer</h4>
                    <p>Votre manager vous demande : <em>"Pourquoi avez-vous choisi ce modèle Random Forest avec ces paramètres pour classifier les CV ?"</em></p>
                    <p><strong>Sans MLflow :</strong> "Euh... je crois que c'était celui qui marchait le mieux... enfin je pense... il faudrait que je relance tous les tests..."</p>
                    <p><strong>Avec MLflow :</strong> "Voici le tableau de comparaison des 15 modèles testés. Le Random Forest v7 a obtenu 92% d'accuracy avec un F1-score de 0.89, surpassant les autres de 5%. Voici tous les détails."</p>
                </div>
            </section>

            <!-- SECTION 3: FONCTIONNEMENT -->
            <section id="fonctionnement">
                <h2>⚙ Comment Fonctionne MLflow ?</h2>

                <div class="highlight-box">
                    <h3>Le Concept Central : Les "Runs"</h3>
                    <p>Chaque fois que vous entraînez un modèle, MLflow crée un <strong>"Run"</strong> - une exécution unique qui enregistre TOUT :</p>
                    <ul>
                        <li>- Les paramètres du modèle (n_estimators, max_depth, etc.)</li>
                        <li>- Les métriques (accuracy, F1-score, etc.)</li>
                        <li>- Le modèle entraîné lui-même</li>
                        <li>- Les artifacts (graphiques, fichiers, etc.)</li>
                        <li>- La date et durée d'exécution</li>
                        <li>- L'environnement (versions des librairies)</li>
                    </ul>
                </div>

                <div class="workflow-diagram">
                    <h3> Workflow MLflow dans votre Projet</h3>

                    <div class="workflow-step">
                        <div class="number">1</div>
                        <div class="content">
                            <h4>Préparation des Données</h4>
                            <p>Vous nettoyez et préparez vos CV (notebooks 01, 02, 03)</p>
                            <p><strong>MLflow :</strong> Rien pour l'instant, c'est du preprocessing</p>
                        </div>
                    </div>

                    <div class="workflow-arrow">⬇</div>

                    <div class="workflow-step">
                        <div class="number">2</div>
                        <div class="content">
                            <h4>Démarrage d'une Expérimentation</h4>
                            <p><code>mlflow.start_run(run_name="RandomForest_100trees")</code></p>
                            <p><strong>MLflow :</strong> Créé un nouveau Run avec un ID unique</p>
                        </div>
                    </div>

                    <div class="workflow-arrow">⬇</div>

                    <div class="workflow-step">
                        <div class="number">3</div>
                        <div class="content">
                            <h4>Log des Paramètres</h4>
                            <p><code>mlflow.log_param("n_estimators", 100)</code></p>
                            <p><strong>MLflow :</strong> Enregistre tous vos hyperparamètres</p>
                        </div>
                    </div>

                    <div class="workflow-arrow"></div>

                    <div class="workflow-step">
                        <div class="number">4</div>
                        <div class="content">
                            <h4>Entraînement du Modèle</h4>
                            <p><code>model.fit(X_train, y_train)</code></p>
                            <p><strong>MLflow :</strong> Observe en arrière-plan</p>
                        </div>
                    </div>

                    <div class="workflow-arrow"></div>

                    <div class="workflow-step">
                        <div class="number">5</div>
                        <div class="content">
                            <h4>Log des Métriques</h4>
                            <p><code>mlflow.log_metric("accuracy", 0.92)</code></p>
                            <p><strong>MLflow :</strong> Enregistre toutes vos performances</p>
                        </div>
                    </div>

                    <div class="workflow-arrow"></div>

                    <div class="workflow-step">
                        <div class="number">6</div>
                        <div class="content">
                            <h4>Sauvegarde du Modèle</h4>
                            <p><code>mlflow.sklearn.log_model(model, "model")</code></p>
                            <p><strong>MLflow :</strong> Stocke le modèle avec ses métadonnées</p>
                        </div>
                    </div>

                    <div class="workflow-arrow"></div>

                    <div class="workflow-step">
                        <div class="number">7</div>
                        <div class="content">
                            <h4>Fin du Run</h4>
                            <p>Le Run se termine, tout est sauvegardé !</p>
                            <p><strong>MLflow :</strong> Génère un résumé complet accessible via l'UI</p>
                        </div>
                    </div>
                </div>

                <div class="architecture-diagram">
                    <h3> Architecture MLflow dans votre Projet</h3>
                    
                    <div class="component-box">
                        <strong> mlruns/ (Dossier créé automatiquement)</strong>
                        <p>Contient tous vos runs organisés par expérience</p>
                        <pre>mlruns/
├── 0/                    # Expérience par défaut
└── 1/                    # CV_Classification_LiveCareer
    ├── run_abc123/       # Run Random Forest 100
    │   ├── metrics/
    │   ├── params/
    │   ├── artifacts/
    │   └── model/
    └── run_def456/       # Run Random Forest 200
        └── ...</pre>
                    </div>

                    <div class="component-box">
                        <strong> mlflow.db (Base de données SQLite)</strong>
                        <p>Stocke les métadonnées (paramètres, métriques, références)</p>
                        <p>Permet des requêtes rapides et des comparaisons</p>
                    </div>

                    <div class="component-box">
                        <strong> MLflow UI (Interface Web)</strong>
                        <p>Accessible sur <code>http://localhost:5000</code></p>
                        <p>Permet de visualiser, comparer et gérer tous vos runs</p>
                    </div>

                    <div class="component-box">
                        <strong> Model Registry (Registre de Modèles)</strong>
                        <p>Gère les versions de modèles en production</p>
                        <p>Transitions : None → Staging → Production → Archived</p>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: COMPOSANTS -->
            <section id="composants">
                <h2> Les Composants MLflow en Détail</h2>

                <h3> MLflow Tracking</h3>
                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>C'est quoi ?</div>
                    <p>Le système d'enregistrement automatique de toutes vos expérimentations.</p>
                    
                    <h4>Ce qu'il enregistre pour LiveCareer :</h4>
                    <ul>
                        <li><strong>Paramètres :</strong> n_estimators=100, max_depth=20, vectorizer_max_features=5000</li>
                        <li><strong>Métriques :</strong> accuracy=0.92, f1_score=0.89, precision=0.91</li>
                        <li><strong>Artifacts :</strong> matrice de confusion, courbes ROC, modèle .pkl</li>
                        <li><strong>Code :</strong> version Git, nom du fichier source</li>
                        <li><strong>Environnement :</strong> Python 3.10, scikit-learn 1.3.0</li>
                    </ul>

                    <h4>Exemple concret :</h4>
                    <pre><code>import mlflow

with mlflow.start_run(run_name="RF_optimisé_cv_classification"):
    # Log paramètres
    mlflow.log_param("algorithm", "Random Forest")
    mlflow.log_param("n_estimators", 200)
    mlflow.log_param("max_depth", 25)
    
    # Entraînement
    model.fit(X_train, y_train)
    
    # Log métriques
    mlflow.log_metric("accuracy", 0.924)
    mlflow.log_metric("f1_score", 0.891)
    
    # Log modèle
    mlflow.sklearn.log_model(model, "cv_classifier")</code></pre>
                </div>

                <h3> MLflow Models</h3>
                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>C'est quoi ?</div>
                    <p>Un format standardisé pour sauvegarder et déployer vos modèles, quel que soit le framework.</p>
                    
                    <h4>Pourquoi c'est important pour LiveCareer :</h4>
                    <ul>
                        <li>- <strong>Format universel :</strong> Votre modèle peut être déployé n'importe où</li>
                        <li>- <strong>Métadonnées incluses :</strong> Signature, dépendances, version Python</li>
                        <li>- <strong>Multi-framework :</strong> Aujourd'hui sklearn, demain TensorFlow</li>
                        <li>- <strong>API automatique :</strong> MLflow peut créer une API REST instantanément</li>
                    </ul>

                    <h4>Structure d'un modèle MLflow :</h4>
                    <pre><code>model/
├── MLmodel                # Métadonnées du modèle
├── model.pkl              # Votre modèle scikit-learn
├── conda.yaml             # Dépendances conda
├── requirements.txt       # Dépendances pip
└── python_env.yaml        # Version Python</code></pre>

                    <h4>Chargement super simple :</h4>
                    <pre><code># Au lieu de :
with open('model.pkl', 'rb') as f:
    model = pickle.load(f)

# Vous faites :
model = mlflow.sklearn.load_model("models:/CV_Classifier/Production")</code></pre>
                </div>

                <h3> Model Registry</h3>
                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>C'est quoi ?</div>
                    <p>Un système de gestion des versions de modèles avec workflow de validation.</p>
                    
                    <h4>Le cycle de vie d'un modèle LiveCareer :</h4>
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>None (Nouveau)</h4>
                            <p>Modèle fraîchement entraîné dans un notebook</p>
                        </div>
                        <div class="timeline-item">
                            <h4>Staging (Test)</h4>
                            <p>Vous testez le modèle sur des CV réels, il est validé par l'équipe</p>
                        </div>
                        <div class="timeline-item">
                            <h4>Production (Déployé)</h4>
                            <p>Le modèle est utilisé par l'API LiveCareer en production</p>
                        </div>
                        <div class="timeline-item">
                            <h4>Archived (Archivé)</h4>
                            <p>Ancien modèle conservé pour référence historique</p>
                        </div>
                    </div>

                    <h4>Exemple de transition :</h4>
                    <pre><code>from mlflow.tracking import MlflowClient

client = MlflowClient()

# Passer le modèle en production
client.transition_model_version_stage(
    name="CV_Classifier_RandomForest",
    version=3,
    stage="Production"
)

# L'ancien modèle passe automatiquement en Archived</code></pre>
                </div>

                <h3> MLflow Projects</h3>
                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>C'est quoi ?</div>
                    <p>Un format pour packager votre code ML de manière reproductible.</p>
                    
                    <h4>Avantages pour LiveCareer :</h4>
                    <ul>
                        <li>- <strong>Reproductibilité :</strong> N'importe qui peut relancer votre expérimentation</li>
                        <li>- <strong>Portabilité :</strong> Fonctionne sur n'importe quelle machine</li>
                        <li>- <strong>Documentation :</strong> Le fichier MLproject documente votre pipeline</li>
                    </ul>

                    <h4>Fichier MLproject :</h4>
                    <pre><code>name: CV_Classification_LiveCareer

conda_env: conda.yaml

entry_points:
  main:
    parameters:
      n_estimators: {type: int, default: 100}
      max_depth: {type: int, default: 20}
    command: "python train.py --n_estimators {n_estimators} --max_depth {max_depth}"</code></pre>
                </div>
            </section>

            <!-- SECTION 5: VALEUR AJOUTÉE -->
            <section id="valeur-ajoutee">
                <h2> Valeur Ajoutée pour votre Projet LiveCareer</h2>

                <div class="success-box">
                    <h3><span class="emoji"></span>Impact Direct sur votre Projet</h3>
                    <p>MLflow transforme votre projet de classification de CV d'un <strong>prototype notebook</strong> en une <strong>solution professionnelle de niveau industriel</strong>.</p>
                </div>

                <h3>1. Traçabilité Complète</h3>
                <div class="highlight-box">
                    <h4>Sans MLflow :</h4>
                    <p> <code>best_model_final_v2_vraiment_final.pkl</code></p>
                    <p> Quel dataset ? Quels paramètres ? Quelle performance ?</p>
                    
                    <h4>Avec MLflow :</h4>
                    <pre><code>Run ID: 7a3f2b1c
Modèle: Random Forest
Dataset: resume_dataset.csv (15,000 CVs)
Paramètres:
  - n_estimators: 200
  - max_depth: 25
  - min_samples_split: 5
Métriques:
  - accuracy: 92.4%
  - f1_score: 0.891
  - temps_entrainement: 3m 42s
Date: 2026-02-05 14:32:18
Entraîné par: vous@livecareer.com</code></pre>
                </div>

                <h3>2. Comparaison Scientifique</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Run Name</th>
                            <th>Modèle</th>
                            <th>Accuracy</th>
                            <th>F1-Score</th>
                            <th>Temps</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background: #d4edda;">
                            <td><strong>RF_200trees_v7</strong></td>
                            <td>Random Forest</td>
                            <td>92.4%</td>
                            <td>0.891</td>
                            <td>3m 42s</td>
                        </tr>
                        <tr>
                            <td>RF_100trees_v1</td>
                            <td>Random Forest</td>
                            <td>89.1%</td>
                            <td>0.863</td>
                            <td>1m 54s</td>
                        </tr>
                        <tr>
                            <td>SVM_linear_v3</td>
                            <td>SVM</td>
                            <td>87.2%</td>
                            <td>0.841</td>
                            <td>8m 12s</td>
                        </tr>
                        <tr>
                            <td>LogReg_baseline</td>
                            <td>Logistic Regression</td>
                            <td>84.5%</td>
                            <td>0.821</td>
                            <td>45s</td>
                        </tr>
                    </tbody>
                </table>
                <p><em> Vous pouvez justifier scientifiquement pourquoi RF_200trees_v7 est le meilleur choix !</em></p>

                <h3>3. Déploiement Simplifié</h3>
                <div class="pros-cons">
                    <div class="pros">
                        <h4> Avec MLflow</h4>
                        <ul>
                            <li>Un seul modèle versionné en production</li>
                            <li>Rollback instantané si problème</li>
                            <li>A/B testing facile (staging vs production)</li>
                            <li>API générée automatiquement</li>
                            <li>Monitoring des performances</li>
                        </ul>
                    </div>
                    <div class="cons">
                        <h4> Sans MLflow</h4>
                        <ul>
                            <li>Fichiers .pkl partout, lequel utiliser ?</li>
                            <li>Pas de retour en arrière possible</li>
                            <li>Tests manuels chronophages</li>
                            <li>Code API à écrire et maintenir</li>
                            <li>Aucune visibilité sur les performances</li>
                        </ul>
                    </div>
                </div>

                <h3>4. Collaboration Améliorée</h3>
                <div class="info-box">
                    <h4><span class="emoji"></span>Scénario d'équipe LiveCareer</h4>
                    <p><strong>Vous :</strong> "J'ai entraîné 15 modèles, voici le meilleur"</p>
                    <p><strong>Collègue Data Scientist :</strong> "Super ! Je peux voir les résultats ?"</p>
                    
                    <p><strong>Avec MLflow :</strong> "Oui, va sur http://mlflow.livecareer.com, expérience 'CV_Classification', tu verras tous mes runs triés par accuracy"</p>
                    
                    <p><strong>Sans MLflow :</strong> "Euh... j'ai un Excel quelque part... attends je cherche... ou peut-être dans un notebook... je crois..."</p>
                </div>

                <h3>5. Reproductibilité Scientifique</h3>
                <div class="highlight-box">
                    <h4>Pourquoi c'est crucial pour LiveCareer :</h4>
                    <ul>
                        <li>- <strong>Audit :</strong> Prouver que vos résultats sont fiables</li>
                        <li>- <strong>Présentation :</strong> Montrer votre démarche scientifique</li>
                        <li>- <strong>Réentraînement :</strong> Refaire l'entraînement avec les mêmes paramètres</li>
                        <li>- <strong>Formation :</strong> Nouveaux collègues comprennent votre travail</li>
                        <li>- <strong>Documentation :</strong> GitHub README + MLflow = documentation vivante</li>
                    </ul>
                </div>

                <h3>6. Gains de Temps</h3>
                <div class="stat-box">
                    <div class="number">70%</div>
                    <div class="label">de temps économisé sur la gestion des modèles</div>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Tâche</th>
                            <th>Sans MLflow</th>
                            <th>Avec MLflow</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Retrouver un ancien modèle</td>
                            <td>30 minutes (fouiller dans les fichiers)</td>
                            <td>30 secondes (recherche dans l'UI)</td>
                        </tr>
                        <tr>
                            <td>Comparer 10 modèles</td>
                            <td>2 heures (tableur Excel manuel)</td>
                            <td>2 minutes (tableau MLflow)</td>
                        </tr>
                        <tr>
                            <td>Déployer un nouveau modèle</td>
                            <td>1 heure (copier fichiers, tester)</td>
                            <td>5 minutes (transition de stage)</td>
                        </tr>
                        <tr>
                            <td>Documenter une expérimentation</td>
                            <td>45 minutes (écrire un rapport)</td>
                            <td>0 minute (auto-documenté)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>7. Crédibilité Professionnelle</h3>
                <div class="success-box">
                    <h4><span class="emoji"></span>Pour votre présentation LiveCareer</h4>
                    <p>Montrer l'interface MLflow pendant votre soutenance démontre :</p>
                    <ul>
                        <li>- Vous utilisez des outils professionnels standard de l'industrie</li>
                        <li>- Votre démarche est rigoureuse et scientifique</li>
                        <li>- Votre projet est prêt pour la production</li>
                        <li>- Vous maîtrisez les MLOps (pas juste le ML)</li>
                        <li>- Votre travail est reproductible et maintenable</li>
                    </ul>
                    <p><strong>Impact :</strong> Vous passez de "j'ai fait un notebook" à "j'ai construit un système ML professionnel"</p>
                </div>
            </section>

            <!-- SECTION 6: IMPLEMENTATION -->
            <section id="implementation">
                <h2> Implémentation dans votre Projet</h2>

                <h3>Architecture Finale avec MLflow</h3>
                <pre><code>cv-classification-nlp/
│
├── mlruns/                          # ⭐ Créé par MLflow
│   └── 1/                           # Expérience CV_Classification
│       ├── run_abc123/              # Run 1: RF 100 arbres
│       ├── run_def456/              # Run 2: RF 200 arbres
│       └── run_ghi789/              # Run 3: SVM
│
├── mlflow.db                        # ⭐ Base de données MLflow
│
├── notebooks/
│   ├── 01_EDA.ipynb
│   ├── 02_preprocessing.ipynb
│   ├── 03_feature_extraction.ipynb
│   ├── 04_modeling.ipynb           # ⭐ MLflow ici !
│   ├── 05_API_testing.ipynb        # ⭐ Charger depuis MLflow
│   └── 07_mlflow_management.ipynb  # ⭐ Nouveau
│
├── models_saved/                    # Peut rester pour backup
│   ├── best_model.pkl
│   ├── tfidf_vectorizer.pkl
│   └── label_encoder.pkl
│
└── api/
    └── main.py                      # ⭐ Charge depuis MLflow Registry</code></pre>

                <h3>Code Minimal pour Démarrer</h3>
                
                <h4>1. Dans votre notebook 04_modeling.ipynb</h4>
                <pre><code>import mlflow
import mlflow.sklearn

# Configuration (une seule fois)
mlflow.set_tracking_uri("sqlite:///mlflow.db")
mlflow.set_experiment("CV_Classification_LiveCareer")

# Votre boucle d'entraînement
for n_estimators in [100, 200, 300]:
    with mlflow.start_run(run_name=f"RF_{n_estimators}trees"):
        # Paramètres
        mlflow.log_param("n_estimators", n_estimators)
        mlflow.log_param("max_depth", 20)
        
        # Entraînement
        model = RandomForestClassifier(n_estimators=n_estimators, max_depth=20)
        model.fit(X_train, y_train)
        
        # Métriques
        accuracy = model.score(X_test, y_test)
        mlflow.log_metric("accuracy", accuracy)
        
        # Modèle
        mlflow.sklearn.log_model(
            model, 
            "model",
            registered_model_name="CV_Classifier_RF"
        )
        
        print(f" Run terminé : accuracy = {accuracy:.4f}")</code></pre>

                <h4>2. Dans votre API (api/main.py)</h4>
                <pre><code>import mlflow.sklearn

# Au lieu de :
# with open('models_saved/best_model.pkl', 'rb') as f:
#     model = pickle.load(f)

# Faites :
mlflow.set_tracking_uri("sqlite:///mlflow.db")
model = mlflow.sklearn.load_model("models:/CV_Classifier_RF/Production")

# Le reste de votre code reste identique !</code></pre>

                <h4>3. Visualiser vos résultats</h4>
                <pre><code># Dans un terminal
mlflow ui --backend-store-uri sqlite:///mlflow.db

# Puis ouvrez : http://localhost:5000</code></pre>
            </section>

            <!-- SECTION 7: CAS PRATIQUES -->
            <section id="cas-pratiques">
                <h2> Cas Pratiques LiveCareer</h2>

                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>Cas 1 : Optimisation des Hyperparamètres</div>
                    <p><strong>Problème :</strong> Vous devez tester 50 combinaisons de paramètres pour votre Random Forest</p>
                    <p><strong>Solution MLflow :</strong></p>
                    <pre><code>import mlflow
from sklearn.model_selection import GridSearchCV

mlflow.set_experiment("CV_Hyperparameter_Tuning")

param_grid = {
    'n_estimators': [100, 200, 300],
    'max_depth': [10, 20, 30],
    'min_samples_split': [2, 5, 10]
}

for n_est in param_grid['n_estimators']:
    for max_d in param_grid['max_depth']:
        for min_s in param_grid['min_samples_split']:
            with mlflow.start_run():
                mlflow.log_params({
                    "n_estimators": n_est,
                    "max_depth": max_d,
                    "min_samples_split": min_s
                })
                
                model = RandomForestClassifier(
                    n_estimators=n_est, 
                    max_depth=max_d, 
                    min_samples_split=min_s
                )
                model.fit(X_train, y_train)
                
                accuracy = model.score(X_test, y_test)
                mlflow.log_metric("accuracy", accuracy)
                
                mlflow.sklearn.log_model(model, "model")

# Résultat : 27 runs comparables dans l'UI MLflow !</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>Cas 2 : Mise en Production Progressive</div>
                    <p><strong>Problème :</strong> Vous avez un nouveau modèle meilleur mais vous voulez le tester avant de l'utiliser partout</p>
                    <p><strong>Solution MLflow Model Registry :</strong></p>
                    <pre><code>from mlflow.tracking import MlflowClient

client = MlflowClient()

# Étape 1 : Nouveau modèle en Staging
client.transition_model_version_stage(
    name="CV_Classifier_RF",
    version=5,
    stage="Staging"
)

# Étape 2 : Tester sur un échantillon de CVs
model_staging = mlflow.sklearn.load_model("models:/CV_Classifier_RF/Staging")
# ... tests ...

# Étape 3 : Si OK, passer en Production
client.transition_model_version_stage(
    name="CV_Classifier_RF",
    version=5,
    stage="Production"
)

# L'ancien modèle (v4) passe automatiquement en Archived
# Mais vous pouvez revenir à v4 si v5 pose problème !</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>Cas 3 : Rapport pour la Soutenance</div>
                    <p><strong>Problème :</strong> Vous devez présenter vos résultats de manière professionnelle</p>
                    <p><strong>Solution MLflow :</strong></p>
                    <pre><code>import mlflow
import pandas as pd
import matplotlib.pyplot as plt

# Récupérer tous vos runs
experiment = mlflow.get_experiment_by_name("CV_Classification_LiveCareer")
runs = mlflow.search_runs(experiment_ids=[experiment.experiment_id])

# Créer un DataFrame
df_results = runs[['tags.mlflow.runName', 
                   'metrics.accuracy', 
                   'metrics.f1_score',
                   'params.n_estimators']]

# Graphique pour la présentation
plt.figure(figsize=(12, 6))
plt.bar(df_results['tags.mlflow.runName'], 
        df_results['metrics.accuracy'])
plt.xticks(rotation=45)
plt.title("Comparaison des Modèles - Classification CV LiveCareer")
plt.ylabel("Accuracy")
plt.tight_layout()
plt.savefig("results_comparison.png", dpi=300)

# Export Excel pour documentation
df_results.to_excel("mlflow_results.xlsx", index=False)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-title"><span class="emoji"></span>Cas 4 : Réentraînement Mensuel</div>
                    <p><strong>Problème :</strong> LiveCareer reçoit de nouveaux CVs chaque mois, vous devez réentraîner</p>
                    <p><strong>Solution MLflow :</strong></p>
                    <pre><code>import mlflow
from datetime import datetime

def retrain_monthly():
    # Charger nouvelles données
    df_new = pd.read_csv("data/raw/resume_dataset_feb_2026.csv")
    
    with mlflow.start_run(run_name=f"monthly_retrain_{datetime.now().strftime('%Y%m')}"):
        # Log des infos dataset
        mlflow.log_param("dataset_date", "2026-02")
        mlflow.log_param("n_samples", len(df_new))
        
        # Réentraînement avec les MÊMES paramètres que le meilleur modèle
        best_params = get_best_model_params()  # Récupéré depuis MLflow
        
        model = RandomForestClassifier(**best_params)
        model.fit(X_train, y_train)
        
        # Comparaison avec l'ancien modèle
        old_model = mlflow.sklearn.load_model("models:/CV_Classifier_RF/Production")
        old_accuracy = old_model.score(X_test, y_test)
        new_accuracy = model.score(X_test, y_test)
        
        mlflow.log_metric("accuracy", new_accuracy)
        mlflow.log_metric("accuracy_diff", new_accuracy - old_accuracy)
        
        # Si meilleur, enregistrer
        if new_accuracy > old_accuracy:
            mlflow.sklearn.log_model(
                model, 
                "model",
                registered_model_name="CV_Classifier_RF"
            )
            print(f" Nouveau modèle meilleur : {new_accuracy:.4f} vs {old_accuracy:.4f}")
        else:
            print(f" Nouveau modèle moins bon, on garde l'ancien")

# Programmable avec cron ou Airflow
retrain_monthly()</code></pre>
                </div>
            </section>

            <!-- SECTION FINALE -->
            <section id="conclusion">
                <h2> Conclusion</h2>

                <div class="success-box">
                    <h3><span class="emoji"></span>Pourquoi MLflow est INDISPENSABLE pour LiveCareer</h3>
                    
                    <h4>Sans MLflow, vous avez :</h4>
                    <ul>
                        <li>= Un notebook avec du code</li>
                        <li>= Quelques fichiers .pkl</li>
                        <li>= Un projet étudiant</li>
                    </ul>

                    <h4>Avec MLflow, vous avez :</h4>
                    <ul>
                        <li>+ Un système ML professionnel</li>
                        <li>+ Une traçabilité complète</li>
                        <li>+ Une solution prête pour la production</li>
                        <li>+ Un projet niveau entreprise</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h3> Prochaines Étapes</h3>
                    <ol>
                        <li><strong>Installer MLflow :</strong> <code>pip install mlflow</code></li>
                        <li><strong>Configurer dans notebook 04 :</strong> Ajouter tracking</li>
                        <li><strong>Entraîner plusieurs modèles :</strong> Créer des runs</li>
                        <li><strong>Lancer l'UI :</strong> <code>mlflow ui</code></li>
                        <li><strong>Modifier l'API :</strong> Charger depuis Model Registry</li>
                        <li><strong>Présenter vos résultats :</strong> Montrer l'UI dans la soutenance</li>
                    </ol>
                </div>

                <div class="stat-box">
                    <div class="number"></div>
                    <div class="label">MLflow = La différence entre un projet de classification et une solution professionnelle de classification de CV</div>
                </div>

                <div class="info-box">
                    <h3><span class="emoji"></span>Impact Carrière</h3>
                    <p>Maîtriser MLflow vous différencie des autres Data Scientists. C'est la preuve que vous comprenez non seulement le Machine Learning, mais aussi le <strong>Machine Learning Operations (MLOps)</strong> - une compétence très recherchée en 2026.</p>
                    <p>Dans votre CV après ce projet :</p>
                    <ul>
                        <li>+ "Expérience avec MLflow pour tracking d'expérimentations"</li>
                        <li>+ "Déploiement de modèles ML avec Model Registry"</li>
                        <li>+ "Gestion de cycle de vie complet de modèles ML"</li>
                    </ul>
                </div>
            </section>
        </div>

        <footer>
            <h3> Ressources Utiles</h3>
            <p>
                <a href="https://mlflow.org/docs/latest/index.html" target="_blank">Documentation MLflow Officielle</a> |
                <a href="https://github.com/mlflow/mlflow" target="_blank">MLflow sur GitHub</a> |
                <a href="https://www.mlflow.org/docs/latest/tutorials-and-examples/index.html" target="_blank">Tutoriels MLflow</a>
            </p>
            <p style="margin-top: 20px;">
                <strong>LiveCareer - Projet Classification de CV</strong><br>
                Guide créé pour vous aider à professionnaliser votre projet ML
            </p>
            <p style="margin-top: 20px; opacity: 0.7;">
                © 2026 - Guide MLflow pour Data Scientists
            </p>
        </footer>
    </div>

    <div class="scroll-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
        ↑
    </div>

    <script>
        // Smooth scrolling pour les liens de navigation
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth' });
            });
        });

        // Afficher/masquer le bouton scroll-to-top
        window.addEventListener('scroll', function() {
            const scrollButton = document.querySelector('.scroll-to-top');
            if (window.pageYOffset > 300) {
                scrollButton.style.display = 'flex';
            } else {
                scrollButton.style.display = 'none';
            }
        });
    </script>
</body>
</html>